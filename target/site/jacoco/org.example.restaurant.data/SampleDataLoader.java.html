<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>SampleDataLoader.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">final</a> &gt; <a href="index.source.html" class="el_package">org.example.restaurant.data</a> &gt; <span class="el_source">SampleDataLoader.java</span></div><h1>SampleDataLoader.java</h1><pre class="source lang-java linenums">package org.example.restaurant.data;

import org.example.restaurant.model.*;
import org.example.restaurant.repository.RestaurantRepository;

import java.time.DayOfWeek;
import java.time.LocalDateTime;
import java.time.LocalTime;

/**
 * 示範資料載入器 - 包含真實台中餐廳資料
 */
public class SampleDataLoader {

    private final RestaurantRepository repository;

<span class="fc" id="L17">    public SampleDataLoader(RestaurantRepository repository) {</span>
<span class="fc" id="L18">        this.repository = repository;</span>
<span class="fc" id="L19">    }</span>

    /**
     * 載入示範餐廳資料
     */
    public void loadSampleData() {
        // 1. 春水堂 - 珍珠奶茶發源地
<span class="fc" id="L26">        Restaurant chunShui = new Restaurant(&quot;1&quot;, &quot;春水堂創始店&quot;, CuisineType.TAIWANESE,</span>
                new Location(24.1477, 120.6736, &quot;台中市西區向上路一段79號&quot;, &quot;台中市&quot;));
<span class="fc" id="L28">        chunShui.getLocation().setDistrict(&quot;西區&quot;);</span>
<span class="fc" id="L29">        chunShui.setDescription(&quot;珍珠奶茶的發源地，創立於1983年，提供正宗台式茶飲與餐點&quot;);</span>
<span class="fc" id="L30">        chunShui.setPriceLevel(2);</span>
<span class="fc" id="L31">        chunShui.setAveragePrice(250);</span>
<span class="fc" id="L32">        chunShui.setHasDelivery(true);</span>
<span class="fc" id="L33">        chunShui.setHasTakeout(true);</span>
<span class="fc" id="L34">        chunShui.setHasParking(false);</span>
<span class="fc" id="L35">        chunShui.setActive(true);</span>
<span class="fc" id="L36">        setBusinessHours(chunShui, LocalTime.of(8, 30), LocalTime.of(22, 30));</span>
<span class="fc" id="L37">        addReviews(chunShui, new int[] { 5, 5, 4, 5, 4, 5, 5, 4 });</span>
<span class="fc" id="L38">        repository.save(chunShui);</span>

        // 2. 宮原眼科 - 日出集團甜點名店
<span class="fc" id="L41">        Restaurant miyahara = new Restaurant(&quot;2&quot;, &quot;宮原眼科&quot;, CuisineType.DESSERT,</span>
                new Location(24.1375, 120.6847, &quot;台中市中區中山路20號&quot;, &quot;台中市&quot;));
<span class="fc" id="L43">        miyahara.getLocation().setDistrict(&quot;中區&quot;);</span>
<span class="fc" id="L44">        miyahara.setDescription(&quot;日出集團經營，以冰淇淋、鳳梨酥、太陽餅聞名，建築本身為日治時期眼科醫院改建&quot;);</span>
<span class="fc" id="L45">        miyahara.setPriceLevel(3);</span>
<span class="fc" id="L46">        miyahara.setAveragePrice(350);</span>
<span class="fc" id="L47">        miyahara.setHasDelivery(false);</span>
<span class="fc" id="L48">        miyahara.setHasTakeout(true);</span>
<span class="fc" id="L49">        miyahara.setHasParking(false);</span>
<span class="fc" id="L50">        miyahara.setActive(true);</span>
<span class="fc" id="L51">        setBusinessHours(miyahara, LocalTime.of(10, 0), LocalTime.of(22, 0));</span>
<span class="fc" id="L52">        addReviews(miyahara, new int[] { 5, 5, 5, 4, 5, 5, 4, 5, 5 });</span>
<span class="fc" id="L53">        repository.save(miyahara);</span>

        // 3. 逢甲夜市 - 阿華大腸包小腸
<span class="fc" id="L56">        Restaurant aHua = new Restaurant(&quot;3&quot;, &quot;阿華大腸包小腸&quot;, CuisineType.TAIWANESE,</span>
                new Location(24.1785, 120.6469, &quot;台中市西屯區逢甲路20巷8號&quot;, &quot;台中市&quot;));
<span class="fc" id="L58">        aHua.getLocation().setDistrict(&quot;西屯區&quot;);</span>
<span class="fc" id="L59">        aHua.setDescription(&quot;逢甲夜市必吃美食，現烤糯米腸包香腸，搭配蒜頭與酸菜&quot;);</span>
<span class="fc" id="L60">        aHua.setPriceLevel(1);</span>
<span class="fc" id="L61">        aHua.setAveragePrice(80);</span>
<span class="fc" id="L62">        aHua.setHasDelivery(false);</span>
<span class="fc" id="L63">        aHua.setHasTakeout(true);</span>
<span class="fc" id="L64">        aHua.setHasParking(false);</span>
<span class="fc" id="L65">        aHua.setActive(true);</span>
<span class="fc" id="L66">        setBusinessHours(aHua, LocalTime.of(16, 0), LocalTime.of(1, 0));</span>
<span class="fc" id="L67">        addReviews(aHua, new int[] { 4, 5, 4, 4, 5, 4, 5, 4 });</span>
<span class="fc" id="L68">        repository.save(aHua);</span>

        // 4. 一中街商圈 - 一心豆干
<span class="fc" id="L71">        Restaurant yiXin = new Restaurant(&quot;4&quot;, &quot;一心豆干&quot;, CuisineType.TAIWANESE,</span>
                new Location(24.1528, 120.6857, &quot;台中市北區一中街45號&quot;, &quot;台中市&quot;));
<span class="fc" id="L73">        yiXin.getLocation().setDistrict(&quot;北區&quot;);</span>
<span class="fc" id="L74">        yiXin.setDescription(&quot;一中街知名滷味店，豆干滷得入味，是學生族群的最愛&quot;);</span>
<span class="fc" id="L75">        yiXin.setPriceLevel(1);</span>
<span class="fc" id="L76">        yiXin.setAveragePrice(60);</span>
<span class="fc" id="L77">        yiXin.setHasDelivery(false);</span>
<span class="fc" id="L78">        yiXin.setHasTakeout(true);</span>
<span class="fc" id="L79">        yiXin.setHasParking(false);</span>
<span class="fc" id="L80">        yiXin.setActive(true);</span>
<span class="fc" id="L81">        setBusinessHours(yiXin, LocalTime.of(11, 0), LocalTime.of(22, 0));</span>
<span class="fc" id="L82">        addReviews(yiXin, new int[] { 4, 4, 5, 4, 3, 4, 5, 4 });</span>
<span class="fc" id="L83">        repository.save(yiXin);</span>

        // 5. 屋馬燒肉 - 台中最紅燒肉店
<span class="fc" id="L86">        Restaurant umai = new Restaurant(&quot;5&quot;, &quot;屋馬燒肉國安店&quot;, CuisineType.JAPANESE,</span>
                new Location(24.1632, 120.6412, &quot;台中市西屯區國安一路168號&quot;, &quot;台中市&quot;));
<span class="fc" id="L88">        umai.getLocation().setDistrict(&quot;西屯區&quot;);</span>
<span class="fc" id="L89">        umai.setDescription(&quot;台中超人氣燒肉店，以高品質肉品與專業服務聞名，常需預約排隊&quot;);</span>
<span class="fc" id="L90">        umai.setPriceLevel(4);</span>
<span class="fc" id="L91">        umai.setAveragePrice(1200);</span>
<span class="fc" id="L92">        umai.setHasDelivery(false);</span>
<span class="fc" id="L93">        umai.setHasTakeout(false);</span>
<span class="fc" id="L94">        umai.setHasParking(true);</span>
<span class="fc" id="L95">        umai.setActive(true);</span>
<span class="fc" id="L96">        setBusinessHours(umai, LocalTime.of(11, 0), LocalTime.of(23, 0));</span>
<span class="fc" id="L97">        addReviews(umai, new int[] { 5, 5, 5, 5, 4, 5, 5, 5, 4, 5 });</span>
<span class="fc" id="L98">        repository.save(umai);</span>

        // 6. 東海大學附近 - 東海蓮心冰雞爪凍
<span class="fc" id="L101">        Restaurant dongHai = new Restaurant(&quot;6&quot;, &quot;東海蓮心冰雞爪凍&quot;, CuisineType.TAIWANESE,</span>
                new Location(24.1819, 120.6013, &quot;台中市龍井區新興路1巷1號&quot;, &quot;台中市&quot;));
<span class="fc" id="L103">        dongHai.getLocation().setDistrict(&quot;龍井區&quot;);</span>
<span class="fc" id="L104">        dongHai.setDescription(&quot;東海商圈老字號，招牌雞爪凍與蓮心冰是必點品項&quot;);</span>
<span class="fc" id="L105">        dongHai.setPriceLevel(1);</span>
<span class="fc" id="L106">        dongHai.setAveragePrice(50);</span>
<span class="fc" id="L107">        dongHai.setHasDelivery(false);</span>
<span class="fc" id="L108">        dongHai.setHasTakeout(true);</span>
<span class="fc" id="L109">        dongHai.setHasParking(false);</span>
<span class="fc" id="L110">        dongHai.setActive(true);</span>
<span class="fc" id="L111">        setBusinessHours(dongHai, LocalTime.of(10, 0), LocalTime.of(21, 0));</span>
<span class="fc" id="L112">        addReviews(dongHai, new int[] { 4, 4, 5, 4, 5, 4, 4 });</span>
<span class="fc" id="L113">        repository.save(dongHai);</span>

        // 7. 台中第二市場 - 王記菜頭粿糯米腸
<span class="fc" id="L116">        Restaurant wangJi = new Restaurant(&quot;7&quot;, &quot;王記菜頭粿糯米腸&quot;, CuisineType.TAIWANESE,</span>
                new Location(24.1415, 120.6798, &quot;台中市中區三民路二段87號&quot;, &quot;台中市&quot;));
<span class="fc" id="L118">        wangJi.getLocation().setDistrict(&quot;中區&quot;);</span>
<span class="fc" id="L119">        wangJi.setDescription(&quot;第二市場百年老店，菜頭粿配特製醬料，是台中在地人的早餐首選&quot;);</span>
<span class="fc" id="L120">        wangJi.setPriceLevel(1);</span>
<span class="fc" id="L121">        wangJi.setAveragePrice(70);</span>
<span class="fc" id="L122">        wangJi.setHasDelivery(false);</span>
<span class="fc" id="L123">        wangJi.setHasTakeout(true);</span>
<span class="fc" id="L124">        wangJi.setHasParking(false);</span>
<span class="fc" id="L125">        wangJi.setActive(true);</span>
<span class="fc" id="L126">        setBusinessHours(wangJi, LocalTime.of(6, 30), LocalTime.of(14, 0));</span>
<span class="fc" id="L127">        addReviews(wangJi, new int[] { 5, 4, 5, 5, 4, 5, 4, 5 });</span>
<span class="fc" id="L128">        repository.save(wangJi);</span>

        // 8. 輕井澤鍋物
<span class="fc" id="L131">        Restaurant karuizawa = new Restaurant(&quot;8&quot;, &quot;輕井澤鍋物公益店&quot;, CuisineType.HOT_POT,</span>
                new Location(24.1505, 120.6578, &quot;台中市南屯區公益路二段111號&quot;, &quot;台中市&quot;));
<span class="fc" id="L133">        karuizawa.getLocation().setDistrict(&quot;南屯區&quot;);</span>
<span class="fc" id="L134">        karuizawa.setDescription(&quot;日式風格火鍋餐廳，以精緻湯底與優質肉品著稱，裝潢別緻&quot;);</span>
<span class="fc" id="L135">        karuizawa.setPriceLevel(3);</span>
<span class="fc" id="L136">        karuizawa.setAveragePrice(550);</span>
<span class="fc" id="L137">        karuizawa.setHasDelivery(false);</span>
<span class="fc" id="L138">        karuizawa.setHasTakeout(false);</span>
<span class="fc" id="L139">        karuizawa.setHasParking(true);</span>
<span class="fc" id="L140">        karuizawa.setActive(true);</span>
<span class="fc" id="L141">        setBusinessHours(karuizawa, LocalTime.of(11, 0), LocalTime.of(2, 0));</span>
<span class="fc" id="L142">        addReviews(karuizawa, new int[] { 5, 4, 5, 5, 4, 5, 4, 5, 5 });</span>
<span class="fc" id="L143">        repository.save(karuizawa);</span>

        // 9. 瓦城泰國料理 (台中有分店)
<span class="fc" id="L146">        Restaurant thaiTown = new Restaurant(&quot;9&quot;, &quot;瓦城泰國料理台中店&quot;, CuisineType.THAI,</span>
                new Location(24.1637, 120.6458, &quot;台中市西屯區台灣大道三段251號&quot;, &quot;台中市&quot;));
<span class="fc" id="L148">        thaiTown.getLocation().setDistrict(&quot;西屯區&quot;);</span>
<span class="fc" id="L149">        thaiTown.setDescription(&quot;知名泰式料理連鎖餐廳，月亮蝦餅、打拋豬是招牌菜色&quot;);</span>
<span class="fc" id="L150">        thaiTown.setPriceLevel(3);</span>
<span class="fc" id="L151">        thaiTown.setAveragePrice(450);</span>
<span class="fc" id="L152">        thaiTown.setHasDelivery(true);</span>
<span class="fc" id="L153">        thaiTown.setHasTakeout(true);</span>
<span class="fc" id="L154">        thaiTown.setHasParking(true);</span>
<span class="fc" id="L155">        thaiTown.setActive(true);</span>
<span class="fc" id="L156">        setBusinessHours(thaiTown, LocalTime.of(11, 30), LocalTime.of(21, 30));</span>
<span class="fc" id="L157">        addReviews(thaiTown, new int[] { 4, 5, 4, 4, 5, 4, 5, 4 });</span>
<span class="fc" id="L158">        repository.save(thaiTown);</span>

        // 10. 陳允宝泉 - 百年糕餅鋪
<span class="fc" id="L161">        Restaurant baoChen = new Restaurant(&quot;10&quot;, &quot;陳允宝泉台中本店&quot;, CuisineType.DESSERT,</span>
                new Location(24.1489, 120.6631, &quot;台中市西區五權路2-236號&quot;, &quot;台中市&quot;));
<span class="fc" id="L163">        baoChen.getLocation().setDistrict(&quot;西區&quot;);</span>
<span class="fc" id="L164">        baoChen.setDescription(&quot;創立於1908年的百年糕餅老店，太陽餅、鳳梨酥、綠豆椪是代表作&quot;);</span>
<span class="fc" id="L165">        baoChen.setPriceLevel(2);</span>
<span class="fc" id="L166">        baoChen.setAveragePrice(200);</span>
<span class="fc" id="L167">        baoChen.setHasDelivery(true);</span>
<span class="fc" id="L168">        baoChen.setHasTakeout(true);</span>
<span class="fc" id="L169">        baoChen.setHasParking(true);</span>
<span class="fc" id="L170">        baoChen.setActive(true);</span>
<span class="fc" id="L171">        setBusinessHours(baoChen, LocalTime.of(8, 0), LocalTime.of(21, 0));</span>
<span class="fc" id="L172">        addReviews(baoChen, new int[] { 5, 5, 4, 5, 4, 5, 5, 4, 5 });</span>
<span class="fc" id="L173">        repository.save(baoChen);</span>

        // 11. TGI FRIDAYS - 美式餐廳
<span class="fc" id="L176">        Restaurant tgiFridays = new Restaurant(&quot;11&quot;, &quot;TGI FRIDAYS&quot;, CuisineType.AMERICAN,</span>
                new Location(24.1627, 120.6401, &quot;台中市西屯區台灣大道四段1086號&quot;, &quot;台中市&quot;));
<span class="fc" id="L178">        tgiFridays.getLocation().setDistrict(&quot;西屯區&quot;);</span>
<span class="fc" id="L179">        tgiFridays.setDescription(&quot;知名美式連鎖餐廳，提供經典美式炭烤豬肋排、漢堡與各式調酒&quot;);</span>
<span class="fc" id="L180">        tgiFridays.setPriceLevel(3);</span>
<span class="fc" id="L181">        tgiFridays.setAveragePrice(800);</span>
<span class="fc" id="L182">        tgiFridays.setHasDelivery(true);</span>
<span class="fc" id="L183">        tgiFridays.setHasTakeout(true);</span>
<span class="fc" id="L184">        tgiFridays.setHasParking(true);</span>
<span class="fc" id="L185">        tgiFridays.setActive(true);</span>
<span class="fc" id="L186">        setBusinessHours(tgiFridays, LocalTime.of(11, 0), LocalTime.of(22, 0));</span>
<span class="fc" id="L187">        addReviews(tgiFridays, new int[] { 4, 4, 3, 5, 4, 3, 4 });</span>
<span class="fc" id="L188">        repository.save(tgiFridays);</span>

<span class="fc" id="L190">        System.out.println(&quot;已載入 11 家台中餐廳資料！&quot;);</span>
<span class="fc" id="L191">    }</span>

    private void setBusinessHours(Restaurant restaurant, LocalTime open, LocalTime close) {
<span class="fc" id="L194">        BusinessHours hours = new BusinessHours();</span>
<span class="fc bfc" id="L195" title="All 2 branches covered.">        for (DayOfWeek day : DayOfWeek.values()) {</span>
<span class="fc" id="L196">            hours.setHours(day, open, close);</span>
        }
<span class="fc" id="L198">        restaurant.setBusinessHours(hours);</span>
<span class="fc" id="L199">    }</span>

    private void addReviews(Restaurant restaurant, int[] ratings) {
<span class="fc bfc" id="L202" title="All 2 branches covered.">        for (int i = 0; i &lt; ratings.length; i++) {</span>
<span class="fc" id="L203">            Review review = new Review(</span>
<span class="fc" id="L204">                    &quot;review_&quot; + restaurant.getId() + &quot;_&quot; + i,</span>
<span class="fc" id="L205">                    restaurant.getId(),</span>
                    ratings[i],
                    &quot;很棒的用餐體驗！&quot;);
<span class="fc" id="L208">            review.setCreatedAt(LocalDateTime.now().minusDays(ratings.length - i));</span>
<span class="fc" id="L209">            restaurant.addReview(review);</span>
        }
<span class="fc" id="L211">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>